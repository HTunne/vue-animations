<template>
    <div class="gear">
		<svg id="rack" xmlns="http://www.w3.org/2000/svg" width="24" height="6030" viewBox="0 0 3.18 797.72">
			<path d="M.13 797.6l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97V705l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97V578l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97V451l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97V324l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97V197l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96V93.8l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68L.13 84.9v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97V70l-2.65-.96v-1.69l2.65-.96V64.7l-2.65-.96v-1.69l2.65-.96V59.4l-2.65-.97v-1.68l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96v-1.69l2.65-.96v-1.68l-2.65-.96V30.3l2.65-.96v-1.68l-2.65-.97v-1.68l2.65-.96v-1.68L.13 21.4v-1.68l2.65-.96v-1.69l-2.65-.96v-1.68l2.65-.97v-1.68l-2.65-.96V9.14l2.65-.97V6.5L.13 5.53V3.84l2.65-.96V1.2L.13.24" fill="none" stroke="#000" stroke-width=".26"/>
        </svg>

        <svg id="svg-obj" xmlns="http://www.w3.org/2000/svg" width="184" height="184" viewBox="-12.17 -12.17 24.34 24.34">
            <g :transform="rotateString" fill="none" stroke="#000" stroke-width=".26">
            <path d="
            M8.33-1.22
            l1.07-.16.62.06 1.76.8
            V.52
            l-1.76.8-.62.06-1.07-.16-.5 1.89 1 .4.5.36 1.13 1.57-.52.9-1.92-.19-.57-.26-.85-.66L5.23 6.6
            l.66.85.26.57.2 1.92-.91.52-1.57-1.12-.37-.51-.4-1-1.88.5.16 1.07-.06.62-.8 1.76H-.52
            l-.8-1.76-.06-.62.16-1.07-1.89-.5-.4 1-.36.5-1.57 1.13-.9-.52.19-1.92.26-.57.66-.85-1.37-1.37-.85.66-.57.26-1.92.2-.52-.91 1.12-1.57.51-.37 1-.4-.5-1.88-1.07.16-.62-.06-1.76-.8
            V-.52
            l1.76-.8.62-.06 1.07.16.5-1.89-1-.4-.5-.36-1.13-1.57.52-.9 1.92.19.57.26.85.66 1.37-1.37-.66-.85-.26-.57-.2-1.92.91-.52 1.57 1.12.37.51.4 1 1.88-.5-.16-1.07.06-.62.8-1.76H.52
            l.8 1.76.06.62-.16 1.07 1.89.5.4-1 .36-.5 1.57-1.13.9.52-.19 1.92-.26.57-.66.85L6.6-5.23
            l.85-.66.57-.26 1.92-.2.52.91-1.12 1.57-.51.37-1 .4
            z"/>
            <circle r="2.65"/>
            </g>
        </svg>
        <svg id="svg-obj2" xmlns="http://www.w3.org/2000/svg" width="184" height="184" viewBox="-12.17 -12.17 24.34 24.34">
            <g :transform="rotateStringRev" fill="none" stroke="#000" stroke-width=".26">
            <path d="
            M8.33-1.22
            l1.07-.16.62.06 1.76.8
            V.52
            l-1.76.8-.62.06-1.07-.16-.5 1.89 1 .4.5.36 1.13 1.57-.52.9-1.92-.19-.57-.26-.85-.66L5.23 6.6
            l.66.85.26.57.2 1.92-.91.52-1.57-1.12-.37-.51-.4-1-1.88.5.16 1.07-.06.62-.8 1.76H-.52
            l-.8-1.76-.06-.62.16-1.07-1.89-.5-.4 1-.36.5-1.57 1.13-.9-.52.19-1.92.26-.57.66-.85-1.37-1.37-.85.66-.57.26-1.92.2-.52-.91 1.12-1.57.51-.37 1-.4-.5-1.88-1.07.16-.62-.06-1.76-.8
            V-.52
            l1.76-.8.62-.06 1.07.16.5-1.89-1-.4-.5-.36-1.13-1.57.52-.9 1.92.19.57.26.85.66 1.37-1.37-.66-.85-.26-.57-.2-1.92.91-.52 1.57 1.12.37.51.4 1 1.88-.5-.16-1.07.06-.62.8-1.76H.52
            l.8 1.76.06.62-.16 1.07 1.89.5.4-1 .36-.5 1.57-1.13.9.52-.19 1.92-.26.57-.66.85L6.6-5.23
            l.85-.66.57-.26 1.92-.2.52.91-1.12 1.57-.51.37-1 .4
            z"/>
            <circle r="2.65"/>
            </g>
        </svg>
        <svg id="svg-obj3" xmlns="http://www.w3.org/2000/svg" viewBox="-22.49 -22.49 44.98 44.98" height="340" width="340">
            <g :transform="rotateString2" fill="none" stroke="#000" stroke-width=".26">
            <path d="M18.47-1.49l.46-.03 1.24.2 1.72.72V.6l-1.72.72-1.24.2-.46-.03-.25 1.85.46.09 1.14.51 1.48 1.14-.31 1.17-1.85.25-1.25-.13-.44-.15-.71 1.73.42.2.97.79 1.13 1.48-.6 1.05-1.85-.24-1.18-.44-.38-.27-1.14 1.49.36.3.73 1.02.7 1.72-.85.85-1.72-.7-1.02-.73-.3-.36-1.49 1.14.27.38.44 1.18.24 1.84-1.05.6-1.48-1.12-.8-.97-.2-.42-1.72.71.15.44.13 1.25-.25 1.85-1.17.3-1.14-1.47-.51-1.14-.09-.46-1.85.25.03.46-.2 1.24-.72 1.72H-.6l-.72-1.72-.2-1.24.03-.46-1.85-.25-.09.46-.51 1.14-1.14 1.48-1.17-.31-.25-1.85.13-1.25.15-.44-1.73-.71-.2.42-.79.97-1.48 1.13-1.05-.6.24-1.85.44-1.18.27-.38-1.49-1.14-.3.36-1.02.73-1.72.7-.85-.85.7-1.72.73-1.02.36-.3-1.14-1.49-.38.27-1.18.44-1.84.24-.6-1.05 1.12-1.48.97-.8.42-.2-.71-1.72-.44.15-1.25.13-1.85-.25-.3-1.17 1.47-1.14 1.14-.51.46-.09-.25-1.85-.46.03-1.24-.2-1.72-.72V-.6l1.72-.72 1.24-.2.46.03.25-1.85-.46-.09-1.14-.51-1.48-1.14.31-1.17 1.85-.25 1.25.13.44.15.71-1.73-.42-.2-.97-.79-1.13-1.48.6-1.05 1.85.24 1.18.44.38.27 1.14-1.49-.36-.3-.73-1.02-.7-1.72.85-.85 1.72.7 1.02.73.3.36 1.49-1.14-.27-.38-.44-1.18-.24-1.84 1.05-.6 1.48 1.12.8.97.2.42 1.72-.71-.15-.44-.13-1.25.25-1.85 1.17-.3 1.14 1.47.51 1.14.09.46 1.85-.25-.03-.46.2-1.24.72-1.72H.6l.72 1.72.2 1.24-.03.46 1.85.25.09-.46.51-1.14 1.14-1.48 1.17.31.25 1.85-.13 1.25-.15.44 1.73.71.2-.42.79-.97 1.48-1.13 1.05.6-.24 1.85-.44 1.18-.27.38 1.49 1.14.3-.36 1.02-.73 1.72-.7.85.85-.7 1.72-.73 1.02-.36.3 1.14 1.49.38-.27 1.18-.44 1.84-.24.6 1.05-1.12 1.48-.97.8-.42.2.71 1.72.44-.15 1.25-.13 1.85.25.3 1.17-1.47 1.14-1.14.51-.46.09z"/>
            <circle r="2.65"/>
            </g>
        </svg>
    </div>
</template>

<script>
//import throttle from 'lodash';
export default {
    name: 'Gear',
    data() {
        return {
            latestKnownScrollY: 0,
            ticking: false,
            angle: 0,
        }
    },
    mounted() {
        window.addEventListener('scroll', this.onScroll)
    },
    unmounted() {
        window.removeEventListener('scroll', this.onScroll)
    },
    computed: {
        rotateString() {
            return 'rotate( ' + this.angle + ')'
        },
        rotateStringRev() {
            return 'rotate( -' + this.angle + ')'
        },
        rotateString2() {
            return 'rotate( ' + this.angle/2 + ')'
        }
    },
    methods: {
        onScroll() {
            this.latestKnownScrollY = window.scrollY;
            this.requestTick();
            //this.angle = (window.scrollY / 800) * 90
        },
        requestTick() {
            if (!this.ticking) {
                requestAnimationFrame(this.update);
            }
            this.ticking = true;
        },
        update() {
            this.ticking = false;
            this.angle = (this.latestKnownScrollY/119.90) * 90;
        }
    }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
.gear {
    height: 800vh;
}
#rack {
	position: absolute;
    top: 0px;
    left: 0px;
}
#svg-obj {
    position: fixed;
    top: 28px;
    left: 0px;
}
#svg-obj2 {
    position: fixed;
    top: 88px;
    left: 146px;
}
#svg-obj3 {
    position: fixed;
    top: 30px;
    left: 300px;
}
</style>
